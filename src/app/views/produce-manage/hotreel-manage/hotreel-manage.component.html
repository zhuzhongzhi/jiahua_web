<div class="page">
  <div class="bg-white padding-16">

      <div class="ax_default" style="margin-bottom: 15px;">
        <!-- Unnamed (矩形) -->
        <div id="u625" class="ax_default box_1">
          <div id="u625_text" class="text">
            <!--<p>-->
            <img id="u626_img" class="img " src="../../../../assets/image/jiahua/search.png"/>
            <span style="text-decoration:none;">筛选查询</span>
            <!--</p>-->
            <div id="u627" class="ax_default">
              <div id="u627_text" class="text align-center">
                <i nz-icon [type]="isCollapse ? 'down' : 'up'" style="font-size: 15px;cursor:pointer"
                   (click)="toggleCollapse()"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="search-conds" *ngIf="!isCollapse">
          <div nz-row nzGutter="16">
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">丝车编号</label>
                <div nz-col nzSpan="16" class="form-control">
                  <!--                <input nzSize="default" nz-input type="text">-->
                  <input type="text" nz-input placeholder="请输入丝车编号" [(ngModel)]="filters.code"/>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">线别</label>
                <div nz-col nzSpan="16" class="form-control">
                  <!--                <input nzSize="default" nz-input type="text">-->
                  <input type="text" nz-input placeholder="请输入线别" [(ngModel)]="filters.lineType"/>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">批号</label>
                <div nz-col nzSpan="16" class="form-control">
                  <!--                <input nzSize="default" nz-input type="text">-->
                  <input type="text" nz-input placeholder="请输入批号" [(ngModel)]="filters.batchNum"/>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">卷类别</label>
                <div nz-col nzSpan="16" class="form-control">
                  <nz-select style="width: 100%;" nzPlaceHolder="请选择" [(ngModel)]="filters.reelType">
                    <nz-option nzValue="0" nzLabel="满卷"></nz-option>
                    <nz-option nzValue="1" nzLabel="小卷"></nz-option>
                  </nz-select>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">规格</label>
                <div nz-col nzSpan="16" class="form-control">
                  <!--                <input nzSize="default" nz-input type="text">-->
                  <input type="text" nz-input placeholder="请输入规格" [(ngModel)]="filters.standard"/>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">生产日期</label>
                <div nz-col nzSpan="16" class="form-control">
                  <nz-date-picker  [(ngModel)]="createTime"
                                  nzFormat="yyyy-MM-dd"></nz-date-picker>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">落丝操作员</label>
                <div nz-col nzSpan="16" class="form-control">
                  <!--                <input nzSize="default" nz-input type="text">-->
                  <input type="text" nz-input placeholder="请输入落丝操作员" [(ngModel)]="filters.doffingEmid"/>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" nzSpan="6">
              <div class="form-item" nz-row style="padding-top: 20px;">
                <label class="inline-span" nz-col nzSpan="8">落丝时间</label>
                <div nz-col nzSpan="16" class="form-control">
                  <nz-date-picker nzShowTime  [(ngModel)]="doffingStartTime"
                                  nzFormat="yyyy-MM-dd HH:mm"></nz-date-picker>
                </div>
              </div>
            </div>
            <div nz-col class="gutter-row" style="float:right;padding-top: 20px" *appAuthBtu="2010101">
              <button nz-button nzType="primary" style="margin-right:20px" (click)="initList()">查询</button>
              <button nz-button style="margin-right:20px;" (click)="resetCond()">重置</button>
            </div>
          </div>

        </div>

        <!-- Unnamed (图片 ) -->
      </div>

      <div nz-row nzGutter="16">
        <button nz-button nzType="primary" style="margin-left:8px; margin-bottom:15px" (click)="add()" *appAuthBtu="2010104">
          <i nz-icon type="plus" theme="outline"></i>新增
        </button>
        <button nz-button nzType="primary" style="margin-left:8px; margin-bottom:15px" (click)="edit()" *appAuthBtu="2010105">
          <i nz-icon type="form" theme="outline"></i>操作
        </button>

        <div nz-col class="gutter-row" style="float:right">
          <span style="margin-right:20px;">今日产量：{{doffingWeight}}kg</span>
          <button nz-button nzType="default" style="margin-left:8px; margin-bottom:15px;" (click)="export()" *appAuthBtu="2010103">导出Excel
          </button>
        </div>
      </div>

      <nz-table class="table-list" #thisTable nzShowPagination nzBordered nzShowSizeChanger [nzFrontPagination]="false"
                style="text-align:center"
                [nzTotal]="tableConfig.pageTotal" [(nzPageIndex)]="tableConfig.pageNum" [nzScroll]="{ x: '980px' }"
                [(nzPageSize)]="tableConfig.pageSize"
                [nzData]="listOfAllData" [nzLoading]="tableConfig.infoLoading" [nzShowTotal]="totalTemplate"
                (nzPageIndexChange)="pageChange()" (nzPageSizeChange)="pageChange()">
        <thead>
        <tr>
          <th nzWidth="60px" nzShowCheckbox [(nzChecked)]="isAllChecked" (nzCheckedChange)="checkAll($event)"></th>
          <th nzWidth="70px">序号</th>
          <th class="align-center">丝车编号</th>
          <th class="align-center">工艺状态</th>
          <th class="align-center">线别</th>
          <th class="align-center">批号</th>
          <th class="align-center">规格</th>
          <th class="align-center">班别</th>
          <th class="align-center">净重(kg)</th>
          <th class="align-center">生产时间</th>
          <th class="align-center">落丝时间</th>
          <th class="align-center">落丝操作员</th>
          <th class="align-center" *appAuthBtu="2010102">位置信息</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let data of thisTable.data; let i = index;" class="align-center" (dblclick)="loadedit(data)">
          <td nzShowCheckbox [(nzChecked)]="checkedId[data.pmId]" (nzCheckedChange)="refreshStatus()"
              [nzDisabled]="data.pmId === '-1'"></td>
          <td>{{(tableConfig.pageNum - 1) * tableConfig.pageSize + i + 1}}</td>
          <td>{{data.code}}</td>
          <td>{{trans(data.craftState)}}</td>
          <td>{{data.lineType}}</td>
          <td>{{data.batchNum}}</td>
          <td>{{data.standard}}</td>
          <td>{{data.classType}}</td>
          <td>{{data.weight}}</td>
          <td>{{data.createTime| date:"yyyy-MM-dd HH:mm"}}</td>
          <td>{{data.doffingStartTime| date:"yyyy-MM-dd HH:mm"}}</td>
          <td>{{data.doffingEmid}}</td>
          <td *appAuthBtu="2010102"><span class="blue-txt transparen-btn see-detail" (click)="showPos(data)" >查看</span></td>
        </tr>
        </tbody>
      </nz-table>
    </div>
    <ng-template #totalTemplate let-total>
      <span class="m-r-sm">
      当前显示第{{(tableConfig.pageNum - 1) * tableConfig.pageSize + 1}}
        至第{{tableConfig.pageNum * tableConfig.pageSize - tableConfig.pageTotal > 0 ? tableConfig.pageTotal : tableConfig.pageNum * tableConfig.pageSize}}
        条记录，共计{{tableConfig.pageTotal}}条记录
    </span>
    </ng-template>

</div>

<nz-modal [(nzVisible)]="detailModal.show" [nzTitle]="detailModal.title" nzZIndex="100"
          (nzOnCancel)="handleDetailCancel()" nzWidth="95%" [nzStyle]="{'top': '40px'}" (nzOnOk)="submitForm()"
          [nzFooter]="showiFrame === 2 ?modalFooter:null" >
  <ng-template #modalFooter>
    <button nz-button nzType="default" (click)="handleDetailCancel()">取消</button>
    <button nz-button nzType="primary" (click)="submitForm()">确定</button>
  </ng-template>

  <nz-modal [(nzVisible)]="detailModal2.show" [nzTitle]="detailModal2.title" nzZIndex="100000"
            (nzOnCancel)="handleDetailCancel2()" nzWidth="600px" (nzOnOk)="submitForm2()">
    <form nz-form [formGroup]="validateForm">
      <div nz-row>
        <div nz-col>
          <nz-form-item nzFlex>
            <nz-form-label nz-col [nzSpan]="4" nzFor="batchNum">批次 <span class="red-txt" *ngIf="detailModal.showContinue||detailModal.showSaveBtn">*</span></nz-form-label>
            <nz-form-control nz-col [nzSpan]="20" *ngIf="detailModal.showSaveBtn">
              <input nz-input formControlName="batchNum" placeholder="请输入批次">
              <nz-form-explain
                *ngIf="getFormControl('batchNum')?.dirty&&getFormControl('batchNum')?.hasError('required')">
                这是必填字段
              </nz-form-explain>
            </nz-form-control>
            <nz-form-control nz-col [nzSpan]="20" *ngIf="!detailModal.showSaveBtn">
              {{updateData?.batchNum}}
            </nz-form-control>
          </nz-form-item>
          <nz-form-item nzFlex>
            <nz-form-label nz-col [nzSpan]="4" nzFor="standard">规格 <span class="red-txt" *ngIf="detailModal.showContinue||detailModal.showSaveBtn">*</span></nz-form-label>
            <nz-form-control nz-col [nzSpan]="20" *ngIf="detailModal.showSaveBtn">
              <input nz-input formControlName="standard" placeholder="请输入规格">
              <nz-form-explain
                *ngIf="getFormControl('standard')?.dirty&&getFormControl('standard')?.hasError('required')">
                这是必填字段
              </nz-form-explain>
            </nz-form-control>
            <nz-form-control nz-col [nzSpan]="20" *ngIf="!detailModal.showSaveBtn">
              {{updateData?.standard}}
            </nz-form-control>
          </nz-form-item>
          <nz-form-item nzFlex>
            <nz-form-label nz-col [nzSpan]="4" nzFor="threshold">告警值 <span class="red-txt" *ngIf="detailModal.showContinue||detailModal.showSaveBtn">*</span></nz-form-label>
            <nz-form-control nz-col [nzSpan]="20" *ngIf="detailModal.showSaveBtn">
              <input nz-input formControlName="threshold" placeholder="请输入告警值">
              <nz-form-explain
                *ngIf="getFormControl('threshold')?.dirty&&getFormControl('threshold')?.hasError('required')">
                这是必填字段
              </nz-form-explain>
            </nz-form-control>
            <nz-form-control nz-col [nzSpan]="20" *ngIf="!detailModal.showSaveBtn">
              {{updateData?.threshold}}
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

    </form>

  </nz-modal>

  <div style="min-height: 600px;height: calc(100vh - 200px)" *ngIf="showiFrame === 1">
    <iframe
      scrolling="no"
      id="onet"
      [src]="src"
      name="onet"
      frameborder="0"
      style="background-color:transparent; width: 100%; height: 100%;">
    </iframe>

  </div>

  <div *ngIf="showiFrame === 2">
    <div nz-row nzGutter="24">
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>线别</label>
          <div nz-col nzSpan="16" class="form-control">
            <nz-select style="width: 100%" nz-col nzSpan="8" [(ngModel)]="submitModel.lineType" nzPlaceHolder="请选择">
              <nz-option *ngFor="let node of lineItems" [nzValue]="node" [nzLabel]="node"></nz-option>
            </nz-select>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>车号</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" nz-input placeholder="请输入丝车编号" [(ngModel)]="submitModel.code"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>批次</label>
          <div nz-col nzSpan="10" class="form-control">
            <nz-select style="width: 100%" nz-col nzSpan="8" [(ngModel)]="submitModel.batchNum"
                       (ngModelChange)="refreshStandard($event)" nzPlaceHolder="请选择">
              <nz-option *ngFor="let node of batchList" [nzValue]="node" [nzLabel]="node"></nz-option>
            </nz-select>
          </div>
          <div nz-col nzSpan="6" class="form-control" style="padding-left: 10px">
            <button nz-button nzType="default" (click)="toAddBatch()" style="padding-left: 10px" nzBlock>新增</button>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>规格</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" nz-input placeholder="请输入规格" [(ngModel)]="submitModel.standard"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>班别</label>
          <div nz-col nzSpan="16" class="form-control">
            <nz-select style="width: 100%;" nzPlaceHolder="请选择班别" [(ngModel)]="submitModel.classType">
              <nz-option nzValue="A" nzLabel="A" ></nz-option>
              <nz-option nzValue="B" nzLabel="B"></nz-option>
              <nz-option nzValue="C" nzLabel="C"></nz-option>
            </nz-select>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>班次</label>
          <div nz-col nzSpan="16" class="form-control">
            <nz-select style="width: 100%;" nzPlaceHolder="请选择班次" [(ngModel)]="submitModel.classShift">
              <nz-option nzValue="0" nzLabel="早" ></nz-option>
              <nz-option nzValue="3" nzLabel="早+4"></nz-option>
              <nz-option nzValue="1" nzLabel="中"></nz-option>
              <nz-option nzValue="2" nzLabel="晚"></nz-option>
              <nz-option nzValue="4" nzLabel="晚+4"></nz-option>
            </nz-select>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>生产日期</label>
          <div nz-col nzSpan="16" class="form-control">
            <nz-date-picker nzShowTime [(ngModel)]="submitModel.createTime" nzFormat="yyyy-MM-dd HH:mm"></nz-date-picker>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>卷类别</label>
          <div nz-col nzSpan="16" class="form-control">
            <nz-select style="width: 100%;" nzPlaceHolder="请选择" [(ngModel)]="submitModel.reelType">
              <nz-option nzValue="0" nzLabel="满卷"></nz-option>
              <nz-option nzValue="1" nzLabel="小卷"></nz-option>
            </nz-select>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>合股次数</label>
          <div nz-col nzSpan="16" class="form-control">
            <nz-select style="width: 100%;" nzPlaceHolder="请选择合股次数" [(ngModel)]="submitModel.jointNum">
              <nz-option nzValue="0" nzLabel="0" ></nz-option>
              <nz-option nzValue="1" nzLabel="1（二合一）"></nz-option>
              <nz-option nzValue="2" nzLabel="2（四合一）"></nz-option>
            </nz-select>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="12">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="4">要因记录</label>
          <div nz-col nzSpan="20">
            <textarea rows="4" nz-input [(ngModel)]="submitModel.cause" placeholder="请输入要因"></textarea>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div *ngIf="showiFrame === 0">
    <div nz-row nzGutter="24">
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">线别</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="请输入线别" [(ngModel)]="submitModel.lineType"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">车号</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="请输入丝车编号" [(ngModel)]="submitModel.code"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">批号</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="请输入批号" [(ngModel)]="submitModel.batchNum"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">规格</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="请输入规格" [(ngModel)]="submitModel.standard"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">班别</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="请输入班别" [(ngModel)]="submitModel.classType"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">日期</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="" [(ngModel)]="submitModel.createTime" nzFormat="yyyy-MM-dd HH:mm"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">卷类别</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="卷类别" [value]="transReelType(submitModel.reelType)"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8">合股次数</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" disabled nz-input placeholder="合股次数" [(ngModel)]="submitModel.jointNum"/>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="12">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="4">要因记录</label>
          <div nz-col nzSpan="20" class="form-control">
            <textarea rows="4" disabled nz-input [(ngModel)]="submitModel.cause" placeholder="请输入要因"></textarea>
          </div>
        </div>
      </div>
      <div nz-col class="gutter-row" nzSpan="6">
        <div class="form-item" nz-row style="padding-top: 20px;">
          <label class="inline-span" nz-col nzSpan="8"><span class="red-txt">*</span>工号</label>
          <div nz-col nzSpan="16" class="form-control">
            <input type="text" nz-input placeholder="请输入记录落丝员工工号" [(ngModel)]="submitModel.doffingEmid"/>
          </div>
        </div>
      </div>
    </div>
    <div nz-row nzGutter="24">
      <div nz-col class="gutter-row" style="float:right;padding-top: 20px">
        <button *appAuthBtu="2010106" nz-button nzType="primary" style="margin-right:20px" (click)="saveDoff()">保存</button>
        <button *appAuthBtu="2010107" nz-button style="margin-right:20px;" (click)="addDoff()">新增落丝</button>
        <button *appAuthBtu="2010108" nz-button nzType="danger" style="margin-right:20px;" (click)="endDoff()">落丝完成</button>
      </div>
    </div>
    <div *ngFor="let item of doffList; let i = index" style="margin-top: 10px; background: #f3f3f3;">
      <div nz-row style="padding: 20px;">
        <div nz-col class="gutter-row" style="margin-top: 6px;" nzSpan="1">
          <B><img src="../../../../assets/image/jiahua/table/u1534.svg"/>第{{i + 1}}次</B>
        </div>
        <div nz-col class="gutter-row" nzSpan="6">
          <div class="form-item" nz-row >
            <label class="inline-span" nz-col nzSpan="8">落丝时间</label>
            <div nz-col nzSpan="16" class="form-control">
              <nz-date-picker nzShowTime  [(ngModel)]="item.doffingTime" nzFormat="yyyy-MM-dd HH:mm" [disabled]="item.showtable"></nz-date-picker>
            </div>
          </div>
        </div>
        <div nz-col class="gutter-row" nzSpan="6">
          <div class="form-item" nz-row>
            <label class="inline-span" nz-col nzSpan="8">净重</label>
            <div nz-col nzSpan="16" class="form-control">
              <!--                <input nzSize="default" nz-input type="text">-->
              <input type="text" nz-input placeholder="请输入净重(kg)" [(ngModel)]="item.weight" [disabled]="item.showtable"/>
            </div>
          </div>
        </div>
        <div nz-col class="gutter-row" nzSpan="6">
          <div class="form-item" nz-row >
            <label class="inline-span" nz-col nzSpan="8">落丝纺位</label>
            <div nz-col nzSpan="16" class="form-control">
              <!--                <input nzSize="default" nz-input type="text">-->
              <nz-select style="width: 100%" nz-col nzSpan="8" [(ngModel)]="item.spinPos" nzPlaceHolder="请选择" [disabled]="item.showtable">
                <nz-option *ngFor="let node of spinPosList" [nzValue]="node" [nzLabel]="node"></nz-option>
              </nz-select>
            </div>
          </div>
        </div>
        <div *appAuthBtu="2010109">
            <button *ngIf="!item.hastable" nz-button nzType="primary" style="margin-left:8px; margin-bottom:15px;"
                    (click)="addTable(item, i)">创建表格
            </button>
          </div>        
        <div id="u627" class="ax_default">
          
          <div id="u627_text" class="text ">
            <i *ngIf="item.hastable "nz-icon [type]="item.showtable ? 'up' : 'down'" style="font-size: 15px;cursor:pointer" (click)="toggleTable(item)"></i>
          </div>
        </div>
      </div>
      <app-hotreel-table *ngIf="item.showtable" [dataList]="item.exception"></app-hotreel-table>
    </div>
  </div>

</nz-modal>


